<% modal_id = local_assigns.fetch(:modal_id, "product_modal") %>
<% product = local_assigns.fetch(:product) { @product_inventory.products.build } %>
<% title = local_assigns.fetch(:title) { product.persisted? ? "Edit Product" : "Create Product" } %>
<% description = local_assigns.fetch(:description) { product.persisted? ? "Update product details" : "Specify product details" } %>
<% submit_label = local_assigns.fetch(:submit_label) { product.persisted? ? "Update Product" : "Create Product" } %>

<dialog id="<%= modal_id %>" class="modal">
  <div class="modal-box">
    <form method="dialog">
      <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">âœ•</button>
    </form>

    <h3 class="text-lg font-bold"><%= title %></h3>
    <p class="py-4"><%= description %></p>

    <%= render "form", product: product, submit_label: submit_label %>
  </div>
</dialog>
