<%# TODO: Use the view helper to evaluate active tabs %>
<div class="mb-4">
  <div class="tabs justify-center">
    <% if @chatbot %>
      <%= link_to t('shared.chatbot_header.playground'),
          chatbot_playground_path(@chatbot),
          class: "tab #{current_page?(chatbot_playground_path(@chatbot)) ? 'tab-active' : ''}" %>
      <%= link_to t('shared.chatbot_header.activity'),
          chatbot_conversations_path(@chatbot),
          class: "tab #{current_page?(chatbot_conversations_path(@chatbot)) ? 'tab-active' : ''}" %>
      <%= link_to FeatureFlags.v2_enabled_for?(current_user) ? "FAQs" : t('shared.chatbot_header.sources'), 
          chatbot_sources_path(@chatbot), 
          class: "tab #{current_page?(chatbot_sources_path(@chatbot)) || current_page?(chatbot_responses_path(@chatbot)) ? 'tab-active' : ''}" %>
      <% if FeatureFlags.v2_enabled_for?(current_user) %>
        <%= link_to "Products", 
            chatbot_products_path(@chatbot), 
            class: "tab #{current_page?(chatbot_products_path(@chatbot)) ? 'tab-active' : ''}" %>
        <%= link_to "Leads", 
            chatbot_leads_path(@chatbot), 
            class: "tab #{current_page?(chatbot_leads_path(@chatbot)) ? 'tab-active' : ''}" %>
      <% end %>
      <%= link_to t('shared.chatbot_header.integrations'), 
          chatbot_integrations_path(@chatbot), 
          class: "tab #{current_page?(chatbot_integrations_path(@chatbot)) || request.path.include?('/integrations/') ? 'tab-active' : ''}" %>
      <%= link_to t('shared.chatbot_header.settings'), 
          chatbot_settings_path(@chatbot), 
          class: "tab #{current_page?(chatbot_settings_path(@chatbot)) ? 'tab-active' : ''}" %>
    <% end %>
  </div>
</div>
