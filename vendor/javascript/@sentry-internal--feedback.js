// @sentry-internal/feedback@9.17.0 downloaded from https://ga.jspm.io/npm:@sentry-internal/feedback@9.17.0/build/npm/esm/index.js

import{GLOBAL_OBJ as e,getClient as n,getCurrentScope as t,captureFeedback as o,getLocationHref as r,addIntegration as i,logger as a,isBrowser as s,getIsolationScope as l,getGlobalScope as c}from"@sentry/core";const u=e;const _=u.document;const d=u.navigator;const f="Report a Bug";const p="Cancel";const h="Send Bug Report";const m="Confirm";const g="Report a Bug";const b="your.email@example.org";const v="Email";const y="What's the bug? What did you expect?";const w="Description";const x="Your Name";const k="Name";const C="Thank you for your report!";const S="(required)";const E="Add a screenshot";const L="Remove screenshot";const F="widget";const H="api";const T=5e3;const N=(e,i={includeReplay:true})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");const a=n();if(!a)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&t().setTags(e.tags);const s=o({source:H,url:r(),...e},i);return new Promise(((e,n)=>{const t=setTimeout((()=>n("Unable to determine if Feedback was correctly sent.")),5e3);const o=a.on("afterSendEvent",((r,i)=>{if(r.event_id===s){clearTimeout(t);o();return i&&typeof i.statusCode==="number"&&i.statusCode>=200&&i.statusCode<300?e(s):i&&typeof i.statusCode==="number"&&i.statusCode===0?n("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):i&&typeof i.statusCode==="number"&&i.statusCode===403?n("Unable to send Feedback. This could be because this domain is not in your list of allowed domains."):n("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker")}}))}))};const M=typeof __SENTRY_DEBUG__==="undefined"||__SENTRY_DEBUG__;function P(){return!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(d.userAgent)&&(!(/Macintosh/i.test(d.userAgent)&&d.maxTouchPoints&&d.maxTouchPoints>1)&&!!isSecureContext)}function R(e,n){return{...e,...n,tags:{...e.tags,...n.tags},onFormOpen:()=>{n.onFormOpen?.();e.onFormOpen?.()},onFormClose:()=>{n.onFormClose?.();e.onFormClose?.()},onSubmitSuccess:t=>{n.onSubmitSuccess?.(t);e.onSubmitSuccess?.(t)},onSubmitError:t=>{n.onSubmitError?.(t);e.onSubmitError?.(t)},onFormSubmitted:()=>{n.onFormSubmitted?.();e.onFormSubmitted?.()},themeDark:{...e.themeDark,...n.themeDark},themeLight:{...e.themeLight,...n.themeLight}}}function D(e){const n=_.createElement("style");n.textContent='\n.widget__actor {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: var(--page-margin);\n  inset: var(--actor-inset);\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 16px;\n\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  line-height: 1.14em;\n  text-decoration: none;\n\n  background: var(--actor-background, var(--background));\n  border-radius: var(--actor-border-radius, 1.7em/50%);\n  border: var(--actor-border, var(--border));\n  box-shadow: var(--actor-box-shadow, var(--box-shadow));\n  color: var(--actor-color, var(--foreground));\n  fill: var(--actor-color, var(--foreground));\n  cursor: pointer;\n  opacity: 1;\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n.widget__actor[aria-hidden="true"] {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n  transform: translate(0, 16px) scale(0.98);\n}\n\n.widget__actor:hover {\n  background: var(--actor-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n\n.widget__actor svg {\n  width: 1.14em;\n  height: 1.14em;\n}\n\n@media (max-width: 600px) {\n  .widget__actor span {\n    display: none;\n  }\n}\n';e&&n.setAttribute("nonce",e);return n}function B(e,n){Object.entries(n).forEach((([n,t])=>{e.setAttributeNS(null,n,t)}));return e}const $=20;const A="http://www.w3.org/2000/svg";function q(){const e=e=>u.document.createElementNS(A,e);const n=B(e("svg"),{width:`${$}`,height:`${$}`,viewBox:`0 0 ${$} ${$}`,fill:"var(--actor-color, var(--foreground))"});const t=B(e("g"),{clipPath:"url(#clip0_57_80)"});const o=B(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});n.appendChild(t).appendChild(o);const r=e("defs");const i=B(e("clipPath"),{id:"clip0_57_80"});const a=B(e("rect"),{width:`${$}`,height:`${$}`,fill:"white"});i.appendChild(a);r.appendChild(i);n.appendChild(r).appendChild(i).appendChild(a);return n}function U({triggerLabel:e,triggerAriaLabel:n,shadow:t,styleNonce:o}){const r=_.createElement("button");r.type="button";r.className="widget__actor";r.ariaHidden="false";r.ariaLabel=n||e||f;r.appendChild(q());if(e){const n=_.createElement("span");n.appendChild(_.createTextNode(e));r.appendChild(n)}const i=D(o);return{el:r,appendToDom(){t.appendChild(i);t.appendChild(r)},removeFromDom(){r.remove();i.remove()},show(){r.ariaHidden="false"},hide(){r.ariaHidden="true"}}}const I="rgba(88, 74, 192, 1)";const z={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:I,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"};const V={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:I,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function O(e){return`\n  --foreground: ${e.foreground};\n  --background: ${e.background};\n  --accent-foreground: ${e.accentForeground};\n  --accent-background: ${e.accentBackground};\n  --success-color: ${e.successColor};\n  --error-color: ${e.errorColor};\n  --border: ${e.border};\n  --box-shadow: ${e.boxShadow};\n  --outline: ${e.outline};\n  --interactive-filter: ${e.interactiveFilter};\n  `}function W({colorScheme:e,themeDark:n,themeLight:t,styleNonce:o}){const r=_.createElement("style");r.textContent=`\n:host {\n  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;\n  --font-size: 14px;\n  --z-index: 100000;\n\n  --page-margin: 16px;\n  --inset: auto 0 0 auto;\n  --actor-inset: var(--inset);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${e!=="system"?"color-scheme: only light;":""}\n\n  ${O(e==="dark"?{...V,...n}:{...z,...t})}\n}\n\n${e==="system"?`\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${O({...V,...n})}\n  }\n}`:""}\n}\n`;o&&r.setAttribute("nonce",o);return r}const j=({lazyLoadIntegration:e,getModalIntegration:n,getScreenshotIntegration:t})=>{const o=({id:o="sentry-feedback",autoInject:r=true,showBranding:l=true,isEmailRequired:c=false,isNameRequired:u=false,showEmail:d=true,showName:F=true,enableScreenshot:H=true,useSentryUser:T={email:"email",name:"username"},tags:D,styleNonce:B,scriptNonce:$,colorScheme:A="system",themeLight:q={},themeDark:I={},addScreenshotButtonLabel:z=E,cancelButtonLabel:V=p,confirmButtonLabel:O=m,emailLabel:j=v,emailPlaceholder:Z=b,formTitle:Y=g,isRequiredLabel:G=S,messageLabel:X=w,messagePlaceholder:J=y,nameLabel:K=k,namePlaceholder:Q=x,removeScreenshotButtonLabel:ee=L,submitButtonLabel:ne=h,successMessageText:te=C,triggerLabel:oe=f,triggerAriaLabel:re="",onFormOpen:ie,onFormClose:ae,onSubmitSuccess:se,onSubmitError:le,onFormSubmitted:ce}={})=>{const ue={id:o,autoInject:r,showBranding:l,isEmailRequired:c,isNameRequired:u,showEmail:d,showName:F,enableScreenshot:H,useSentryUser:T,tags:D,styleNonce:B,scriptNonce:$,colorScheme:A,themeDark:I,themeLight:q,triggerLabel:oe,triggerAriaLabel:re,cancelButtonLabel:V,submitButtonLabel:ne,confirmButtonLabel:O,formTitle:Y,emailLabel:j,emailPlaceholder:Z,messageLabel:X,messagePlaceholder:J,nameLabel:K,namePlaceholder:Q,successMessageText:te,isRequiredLabel:G,addScreenshotButtonLabel:z,removeScreenshotButtonLabel:ee,onFormClose:ae,onFormOpen:ie,onSubmitError:le,onSubmitSuccess:se,onFormSubmitted:ce};let _e=null;let de=[];const fe=e=>{if(!_e){const n=_.createElement("div");n.id=String(e.id);_.body.appendChild(n);_e=n.attachShadow({mode:"open"});_e.appendChild(W(e))}return _e};const pe=async o=>{const r=o.enableScreenshot&&P();let s;let l;try{const t=n?n():await e("feedbackModalIntegration",$);s=t();i(s)}catch{M&&a.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`.");throw new Error("[Feedback] Missing feedback modal integration!")}try{const n=r?t?t():await e("feedbackScreenshotIntegration",$):void 0;if(n){l=n();i(l)}}catch{M&&a.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}const c=s.createDialog({options:{...o,onFormClose:()=>{c?.close();o.onFormClose?.()},onFormSubmitted:()=>{c?.close();o.onFormSubmitted?.()}},screenshotIntegration:l,sendFeedback:N,shadow:fe(o)});return c};const he=(e,n={})=>{const t=R(ue,n);const o=typeof e==="string"?_.querySelector(e):typeof e.addEventListener==="function"?e:null;if(!o){M&&a.error("[Feedback] Unable to attach to target element");throw new Error("Unable to attach to target element")}let r=null;const i=async()=>{r||(r=await pe({...t,onFormSubmitted:()=>{r?.removeFromDom();t.onFormSubmitted?.()}}));r.appendToDom();r.open()};o.addEventListener("click",i);const s=()=>{de=de.filter((e=>e!==s));r?.removeFromDom();r=null;o.removeEventListener("click",i)};de.push(s);return s};const me=(e={})=>{const n=R(ue,e);const t=fe(n);const o=U({triggerLabel:n.triggerLabel,triggerAriaLabel:n.triggerAriaLabel,shadow:t,styleNonce:B});he(o.el,{...n,onFormOpen(){o.hide()},onFormClose(){o.show()},onFormSubmitted(){o.show()}});return o};return{name:"Feedback",setupOnce(){s()&&ue.autoInject&&(_.readyState==="loading"?_.addEventListener("DOMContentLoaded",(()=>me().appendToDom())):me().appendToDom())},attachTo:he,createWidget(e={}){const n=me(R(ue,e));n.appendToDom();return n},async createForm(e={}){return pe(R(ue,e))},remove(){if(_e){_e.parentElement?.remove();_e=null}de.forEach((e=>e()));de=[]}}};return o};function Z(){const e=n();return e?.getIntegrationByName("Feedback")}var Y,G,X,J,K,Q,ee,ne={},te=[],oe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,re=Array.isArray;function ie(e,n){for(var t in n)e[t]=n[t];return e}function ae(e){var n=e.parentNode;n&&n.removeChild(e)}function se(e,n,t){var o,r,i,a={};for(i in n)"key"==i?o=n[i]:"ref"==i?r=n[i]:a[i]=n[i];if(arguments.length>2&&(a.children=arguments.length>3?Y.call(arguments,2):t),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===a[i]&&(a[i]=e.defaultProps[i]);return le(e,a,o,r,null)}function le(e,n,t,o,r){var i={type:e,props:n,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==r?++X:r,__i:-1,__u:0};return null==r&&null!=G.vnode&&G.vnode(i),i}function ce(e){return e.children}function ue(e,n){this.props=e,this.context=n}function _e(e,n){if(null==n)return e.__?_e(e.__,e.__i+1):null;for(var t;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e)return t.__e;return"function"==typeof e.type?_e(e):null}function de(e,n,t){var o,r=e.__v,i=r.__e,a=e.__P;if(a)return(o=ie({},r)).__v=r.__v+1,G.vnode&&G.vnode(o),Ce(a,o,r,e.__n,void 0!==a.ownerSVGElement,32&r.__u?[i]:null,n,null==i?_e(r):i,!!(32&r.__u),t),o.__.__k[o.__i]=o,o.__d=void 0,o.__e!=i&&fe(o),o}function fe(e){var n,t;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e){e.__e=e.__c.base=t.__e;break}return fe(e)}}function pe(e){(!e.__d&&(e.__d=true)&&J.push(e)&&!he.__r++||K!==G.debounceRendering)&&((K=G.debounceRendering)||Q)(he)}function he(){var e,n,t,o=[],r=[];for(J.sort(ee);e=J.shift();)e.__d&&(t=J.length,n=de(e,o,r)||n,0===t||J.length>t?(Se(o,n,r),r.length=o.length=0,n=void 0,J.sort(ee)):n&&G.__c&&G.__c(n,te));n&&Se(o,n,r),he.__r=0}function me(e,n,t,o,r,i,a,s,l,c,u){var _,d,f,p,h,m=o&&o.__k||te,g=n.length;for(t.__d=l,ge(t,n,m),l=t.__d,_=0;_<g;_++)null!=(f=t.__k[_])&&"boolean"!=typeof f&&"function"!=typeof f&&(d=-1===f.__i?ne:m[f.__i]||ne,f.__i=_,Ce(e,f,d,r,i,a,s,l,c,u),p=f.__e,f.ref&&d.ref!=f.ref&&(d.ref&&Le(d.ref,null,f),u.push(f.ref,f.__c||p,f)),null==h&&null!=p&&(h=p),65536&f.__u||d.__k===f.__k?l=be(f,l,e):"function"==typeof f.type&&void 0!==f.__d?l=f.__d:p&&(l=p.nextSibling),f.__d=void 0,f.__u&=-196609);t.__d=l,t.__e=h}function ge(e,n,t){var o,r,i,a,s,l=n.length,c=t.length,u=c,_=0;for(e.__k=[],o=0;o<l;o++)null!=(r=e.__k[o]=null==(r=n[o])||"boolean"==typeof r||"function"==typeof r?null:"string"==typeof r||"number"==typeof r||"bigint"==typeof r||r.constructor==String?le(null,r,null,null,r):re(r)?le(ce,{children:r},null,null,null):void 0===r.constructor&&r.__b>0?le(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r)?(r.__=e,r.__b=e.__b+1,s=ve(r,t,a=o+_,u),r.__i=s,i=null,-1!==s&&(u--,(i=t[s])&&(i.__u|=131072)),null==i||null===i.__v?(-1==s&&_--,"function"!=typeof r.type&&(r.__u|=65536)):s!==a&&(s===a+1?_++:s>a?u>l-a?_+=s-a:_--:_=s<a&&s==a-1?s-a:0,s!==o+_&&(r.__u|=65536))):(i=t[o])&&null==i.key&&i.__e&&(i.__e==e.__d&&(e.__d=_e(i)),Fe(i,i,false),t[o]=null,u--);if(u)for(o=0;o<c;o++)null!=(i=t[o])&&0==(131072&i.__u)&&(i.__e==e.__d&&(e.__d=_e(i)),Fe(i,i))}function be(e,n,t){var o,r;if("function"==typeof e.type){for(o=e.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=e,n=be(o[r],n,t));return n}e.__e!=n&&(t.insertBefore(e.__e,n||null),n=e.__e);do{n=n&&n.nextSibling}while(null!=n&&8===n.nodeType);return n}function ve(e,n,t,o){var r=e.key,i=e.type,a=t-1,s=t+1,l=n[t];if(null===l||l&&r==l.key&&i===l.type)return t;if(o>(null!=l&&0==(131072&l.__u)?1:0))for(;a>=0||s<n.length;){if(a>=0){if((l=n[a])&&0==(131072&l.__u)&&r==l.key&&i===l.type)return a;a--}if(s<n.length){if((l=n[s])&&0==(131072&l.__u)&&r==l.key&&i===l.type)return s;s++}}return-1}function ye(e,n,t){"-"===n[0]?e.setProperty(n,null==t?"":t):e[n]=null==t?"":"number"!=typeof t||oe.test(n)?t:t+"px"}function we(e,n,t,o,r){var i;e:if("style"===n)if("string"==typeof t)e.style.cssText=t;else{if("string"==typeof o&&(e.style.cssText=o=""),o)for(n in o)t&&n in t||ye(e.style,n,"");if(t)for(n in t)o&&t[n]===o[n]||ye(e.style,n,t[n])}else if("o"===n[0]&&"n"===n[1])i=n!==(n=n.replace(/(PointerCapture)$|Capture$/i,"$1")),n=n.toLowerCase()in e?n.toLowerCase().slice(2):n.slice(2),e.l||(e.l={}),e.l[n+i]=t,t?o?t.u=o.u:(t.u=Date.now(),e.addEventListener(n,i?ke:xe,i)):e.removeEventListener(n,i?ke:xe,i);else{if(r)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==n&&"height"!==n&&"href"!==n&&"list"!==n&&"form"!==n&&"tabIndex"!==n&&"download"!==n&&"rowSpan"!==n&&"colSpan"!==n&&"role"!==n&&n in e)try{e[n]=null==t?"":t;break e}catch(e){}"function"==typeof t||(null==t||false===t&&"-"!==n[4]?e.removeAttribute(n):e.setAttribute(n,t))}}function xe(e){if(this.l){var n=this.l[e.type+false];if(e.t){if(e.t<=n.u)return}else e.t=Date.now();return n(G.event?G.event(e):e)}}function ke(e){if(this.l)return this.l[e.type+true](G.event?G.event(e):e)}function Ce(e,n,t,o,r,i,a,s,l,c){var u,_,d,f,p,h,m,g,b,v,y,w,x,k,C,S=n.type;if(void 0!==n.constructor)return null;128&t.__u&&(l=!!(32&t.__u),i=[s=n.__e=t.__e]),(u=G.__b)&&u(n);e:if("function"==typeof S)try{if(g=n.props,b=(u=S.contextType)&&o[u.__c],v=u?b?b.props.value:u.__:o,t.__c?m=(_=n.__c=t.__c).__=_.__E:("prototype"in S&&S.prototype.render?n.__c=_=new S(g,v):(n.__c=_=new ue(g,v),_.constructor=S,_.render=He),b&&b.sub(_),_.props=g,_.state||(_.state={}),_.context=v,_.__n=o,d=_.__d=!0,_.__h=[],_._sb=[]),null==_.__s&&(_.__s=_.state),null!=S.getDerivedStateFromProps&&(_.__s==_.state&&(_.__s=ie({},_.__s)),ie(_.__s,S.getDerivedStateFromProps(g,_.__s))),f=_.props,p=_.state,_.__v=n,d)null==S.getDerivedStateFromProps&&null!=_.componentWillMount&&_.componentWillMount(),null!=_.componentDidMount&&_.__h.push(_.componentDidMount);else{if(null==S.getDerivedStateFromProps&&g!==f&&null!=_.componentWillReceiveProps&&_.componentWillReceiveProps(g,v),!_.__e&&(null!=_.shouldComponentUpdate&&!1===_.shouldComponentUpdate(g,_.__s,v)||n.__v===t.__v)){for(n.__v!==t.__v&&(_.props=g,_.state=_.__s,_.__d=!1),n.__e=t.__e,n.__k=t.__k,n.__k.forEach((function(e){e&&(e.__=n)})),y=0;y<_._sb.length;y++)_.__h.push(_._sb[y]);_._sb=[],_.__h.length&&a.push(_);break e}null!=_.componentWillUpdate&&_.componentWillUpdate(g,_.__s,v),null!=_.componentDidUpdate&&_.__h.push((function(){_.componentDidUpdate(f,p,h)}))}if(_.context=v,_.props=g,_.__P=e,_.__e=!1,w=G.__r,x=0,"prototype"in S&&S.prototype.render){for(_.state=_.__s,_.__d=!1,w&&w(n),u=_.render(_.props,_.state,_.context),k=0;k<_._sb.length;k++)_.__h.push(_._sb[k]);_._sb=[]}else do{_.__d=!1,w&&w(n),u=_.render(_.props,_.state,_.context),_.state=_.__s}while(_.__d&&++x<25);_.state=_.__s,null!=_.getChildContext&&(o=ie(ie({},o),_.getChildContext())),d||null==_.getSnapshotBeforeUpdate||(h=_.getSnapshotBeforeUpdate(f,p)),me(e,re(C=null!=u&&u.type===ce&&null==u.key?u.props.children:u)?C:[C],n,t,o,r,i,a,s,l,c),_.base=n.__e,n.__u&=-161,_.__h.length&&a.push(_),m&&(_.__E=_.__=null)}catch(e){n.__v=null,l||null!=i?(n.__e=s,n.__u|=l?160:32,i[i.indexOf(s)]=null):(n.__e=t.__e,n.__k=t.__k),G.__e(e,n,t)}else null==i&&n.__v===t.__v?(n.__k=t.__k,n.__e=t.__e):n.__e=Ee(t.__e,n,t,o,r,i,a,l,c);(u=G.diffed)&&u(n)}function Se(e,n,t){for(var o=0;o<t.length;o++)Le(t[o],t[++o],t[++o]);G.__c&&G.__c(n,e),e.some((function(n){try{e=n.__h,n.__h=[],e.some((function(e){e.call(n)}))}catch(e){G.__e(e,n.__v)}}))}function Ee(e,n,t,o,r,i,a,s,l){var c,u,_,d,f,p,h,m=t.props,g=n.props,b=n.type;if("svg"===b&&(r=true),null!=i)for(c=0;c<i.length;c++)if((f=i[c])&&"setAttribute"in f==!!b&&(b?f.localName===b:3===f.nodeType)){e=f,i[c]=null;break}if(null==e){if(null===b)return document.createTextNode(g);e=r?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,g.is&&g),i=null,s=false}if(null===b)m===g||s&&e.data===g||(e.data=g);else{if(i=i&&Y.call(e.childNodes),m=t.props||ne,!s&&null!=i)for(m={},c=0;c<e.attributes.length;c++)m[(f=e.attributes[c]).name]=f.value;for(c in m)f=m[c],"children"==c||("dangerouslySetInnerHTML"==c?_=f:"key"===c||c in g||we(e,c,null,f,r));for(c in g)f=g[c],"children"==c?d=f:"dangerouslySetInnerHTML"==c?u=f:"value"==c?p=f:"checked"==c?h=f:"key"===c||s&&"function"!=typeof f||m[c]===f||we(e,c,f,m[c],r);if(u)s||_&&(u.__html===_.__html||u.__html===e.innerHTML)||(e.innerHTML=u.__html),n.__k=[];else if(_&&(e.innerHTML=""),me(e,re(d)?d:[d],n,t,o,r&&"foreignObject"!==b,i,a,i?i[0]:t.__k&&_e(t,0),s,l),null!=i)for(c=i.length;c--;)null!=i[c]&&ae(i[c]);s||(c="value",void 0!==p&&(p!==e[c]||"progress"===b&&!p||"option"===b&&p!==m[c])&&we(e,c,p,m[c],false),c="checked",void 0!==h&&h!==e[c]&&we(e,c,h,m[c],false))}return e}function Le(e,n,t){try{"function"==typeof e?e(n):e.current=n}catch(e){G.__e(e,t)}}function Fe(e,n,t){var o,r;if(G.unmount&&G.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||Le(o,null,n)),null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){G.__e(e,n)}o.base=o.__P=null,e.__c=void 0}if(o=e.__k)for(r=0;r<o.length;r++)o[r]&&Fe(o[r],n,t||"function"!=typeof e.type);t||null==e.__e||ae(e.__e),e.__=e.__e=e.__d=void 0}function He(e,n,t){return this.constructor(e,t)}function Te(e,n,t){var o,r,i,a;G.__&&G.__(e,n),r=(o=false)?null:n.__k,i=[],a=[],Ce(n,e=n.__k=se(ce,null,[e]),r||ne,ne,void 0!==n.ownerSVGElement,r?null:n.firstChild?Y.call(n.childNodes):null,i,r?r.__e:n.firstChild,o,a),e.__d=void 0,Se(i,e,a)}Y=te.slice,G={__e:function(e,n,t,o){for(var r,i,a;n=n.__;)if((r=n.__c)&&!r.__)try{if((i=r.constructor)&&null!=i.getDerivedStateFromError&&(r.setState(i.getDerivedStateFromError(e)),a=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e,o||{}),a=r.__d),a)return r.__E=r}catch(n){e=n}throw e}},X=0,ue.prototype.setState=function(e,n){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=ie({},this.state),"function"==typeof e&&(e=e(ie({},t),this.props)),e&&ie(t,e),null!=e&&this.__v&&(n&&this._sb.push(n),pe(this))},ue.prototype.forceUpdate=function(e){this.__v&&(this.__e=true,e&&this.__h.push(e),pe(this))},ue.prototype.render=ce,J=[],Q="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ee=function(e,n){return e.__v.__b-n.__v.__b},he.__r=0;var Ne,Me,Pe,Re,De=0,Be=[],$e=[],Ae=G,qe=Ae.__b,Ue=Ae.__r,Ie=Ae.diffed,ze=Ae.__c,Ve=Ae.unmount,Oe=Ae.__;function We(e,n){Ae.__h&&Ae.__h(Me,e,De||n),De=0;var t=Me.__H||(Me.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({__V:$e}),t.__[e]}function je(e){return De=1,Ze(_n,e)}function Ze(e,n,t){var o=We(Ne++,2);if(o.t=e,!o.__c&&(o.__=[t?t(n):_n(void 0,n),function(e){var n=o.__N?o.__N[0]:o.__[0],t=o.t(n,e);n!==t&&(o.__N=[t,o.__[1]],o.__c.setState({}))}],o.__c=Me,!Me.u)){var r=function(e,n,t){if(!o.__c.__H)return true;var r=o.__c.__H.__.filter((function(e){return!!e.__c}));if(r.every((function(e){return!e.__N})))return!i||i.call(this,e,n,t);var a=false;return r.forEach((function(e){if(e.__N){var n=e.__[0];e.__=e.__N,e.__N=void 0,n!==e.__[0]&&(a=true)}})),!(!a&&o.__c.props===e)&&(!i||i.call(this,e,n,t))};Me.u=true;var i=Me.shouldComponentUpdate,a=Me.componentWillUpdate;Me.componentWillUpdate=function(e,n,t){if(this.__e){var o=i;i=void 0,r(e,n,t),i=o}a&&a.call(this,e,n,t)},Me.shouldComponentUpdate=r}return o.__N||o.__}function Ye(e,n){var t=We(Ne++,3);!Ae.__s&&un(t.__H,n)&&(t.__=e,t.i=n,Me.__H.__h.push(t))}function Ge(e,n){var t=We(Ne++,4);!Ae.__s&&un(t.__H,n)&&(t.__=e,t.i=n,Me.__h.push(t))}function Xe(e){return De=5,Ke((function(){return{current:e}}),[])}function Je(e,n,t){De=6,Ge((function(){return"function"==typeof e?(e(n()),function(){return e(null)}):e?(e.current=n(),function(){return e.current=null}):void 0}),null==t?t:t.concat(e))}function Ke(e,n){var t=We(Ne++,7);return un(t.__H,n)?(t.__V=e(),t.i=n,t.__h=e,t.__V):t.__}function Qe(e,n){return De=8,Ke((function(){return e}),n)}function en(e){var n=Me.context[e.__c],t=We(Ne++,9);return t.c=e,n?(null==t.__&&(t.__=true,n.sub(Me)),n.props.value):e.__}function nn(e,n){Ae.useDebugValue&&Ae.useDebugValue(n?n(e):e)}function tn(e){var n=We(Ne++,10),t=je();return n.__=e,Me.componentDidCatch||(Me.componentDidCatch=function(e,o){n.__&&n.__(e,o),t[1](e)}),[t[0],function(){t[1](void 0)}]}function on(){var e=We(Ne++,11);if(!e.__){for(var n=Me.__v;null!==n&&!n.__m&&null!==n.__;)n=n.__;var t=n.__m||(n.__m=[0,0]);e.__="P"+t[0]+"-"+t[1]++}return e.__}function rn(){for(var e;e=Be.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ln),e.__H.__h.forEach(cn),e.__H.__h=[]}catch(n){e.__H.__h=[],Ae.__e(n,e.__v)}}Ae.__b=function(e){Me=null,qe&&qe(e)},Ae.__=function(e,n){n.__k&&n.__k.__m&&(e.__m=n.__k.__m),Oe&&Oe(e,n)},Ae.__r=function(e){Ue&&Ue(e),Ne=0;var n=(Me=e.__c).__H;n&&(Pe===Me?(n.__h=[],Me.__h=[],n.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=$e,e.__N=e.i=void 0}))):(n.__h.forEach(ln),n.__h.forEach(cn),n.__h=[],Ne=0)),Pe=Me},Ae.diffed=function(e){Ie&&Ie(e);var n=e.__c;n&&n.__H&&(n.__H.__h.length&&(1!==Be.push(n)&&Re===Ae.requestAnimationFrame||((Re=Ae.requestAnimationFrame)||sn)(rn)),n.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==$e&&(e.__=e.__V),e.i=void 0,e.__V=$e}))),Pe=Me=null},Ae.__c=function(e,n){n.some((function(e){try{e.__h.forEach(ln),e.__h=e.__h.filter((function(e){return!e.__||cn(e)}))}catch(t){n.some((function(e){e.__h&&(e.__h=[])})),n=[],Ae.__e(t,e.__v)}})),ze&&ze(e,n)},Ae.unmount=function(e){Ve&&Ve(e);var n,t=e.__c;t&&t.__H&&(t.__H.__.forEach((function(e){try{ln(e)}catch(e){n=e}})),t.__H=void 0,n&&Ae.__e(n,t.__v))};var an="function"==typeof requestAnimationFrame;function sn(e){var n,t=function(){clearTimeout(o),an&&cancelAnimationFrame(n),setTimeout(e)},o=setTimeout(t,100);an&&(n=requestAnimationFrame(t))}function ln(e){var n=Me,t=e.__c;"function"==typeof t&&(e.__c=void 0,t()),Me=n}function cn(e){var n=Me;e.__c=e.__(),Me=n}function un(e,n){return!e||e.length!==n.length||n.some((function(n,t){return n!==e[t]}))}function _n(e,n){return"function"==typeof n?n(e):n}const dn=Object.defineProperty({__proto__:null,useCallback:Qe,useContext:en,useDebugValue:nn,useEffect:Ye,useErrorBoundary:tn,useId:on,useImperativeHandle:Je,useLayoutEffect:Ge,useMemo:Ke,useReducer:Ze,useRef:Xe,useState:je},Symbol.toStringTag,{value:"Module"});const fn="http://www.w3.org/2000/svg";function pn(){const e=e=>_.createElementNS(fn,e);const n=B(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"});const t=B(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});n.appendChild(t);return n}function hn({options:e}){const n=Ke((()=>({__html:pn().outerHTML})),[]);return se("h2",{class:"dialog__header"},se("span",{class:"dialog__title"},e.formTitle),e.showBranding?se("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:n}):null)}function mn(e,n){const t=[];n.isNameRequired&&!e.name&&t.push(n.nameLabel);n.isEmailRequired&&!e.email&&t.push(n.emailLabel);e.message||t.push(n.messageLabel);return t}function gn(e,n){const t=e.get(n);return typeof t==="string"?t.trim():""}function bn({options:e,defaultEmail:n,defaultName:t,onFormClose:o,onSubmit:r,onSubmitSuccess:i,onSubmitError:s,showEmail:l,showName:c,screenshotInput:u}){const{tags:_,addScreenshotButtonLabel:d,removeScreenshotButtonLabel:f,cancelButtonLabel:p,emailLabel:h,emailPlaceholder:m,isEmailRequired:g,isNameRequired:b,messageLabel:v,messagePlaceholder:y,nameLabel:w,namePlaceholder:x,submitButtonLabel:k,isRequiredLabel:C}=e;const[S,E]=je(false);const[L,H]=je(null);const[T,N]=je(false);const P=u?.input;const[R,D]=je(null);const B=Qe((e=>{D(e);N(false)}),[]);const $=Qe((e=>{const n=mn(e,{emailLabel:h,isEmailRequired:g,isNameRequired:b,messageLabel:v,nameLabel:w});n.length>0?H(`Please enter in the following required fields: ${n.join(", ")}`):H(null);return n.length===0}),[h,g,b,v,w]);const A=Qe((async e=>{E(true);try{e.preventDefault();if(!(e.target instanceof HTMLFormElement))return;const n=new FormData(e.target);const t=await(u&&T?u.value():void 0);const o={name:gn(n,"name"),email:gn(n,"email"),message:gn(n,"message"),attachments:t?[t]:void 0};if(!$(o))return;try{await r({name:o.name,email:o.email,message:o.message,source:F,tags:_},{attachments:o.attachments});i(o)}catch(e){M&&a.error(e);H(e);s(e)}}finally{E(false)}}),[u&&T,i,s]);return se("form",{class:"form",onSubmit:A},P&&T?se(P,{onError:B}):null,se("fieldset",{class:"form__right","data-sentry-feedback":true,disabled:S},se("div",{class:"form__top"},L?se("div",{class:"form__error-container"},L):null,c?se("label",{for:"name",class:"form__label"},se(vn,{label:w,isRequiredLabel:C,isRequired:b}),se("input",{class:"form__input",defaultValue:t,id:"name",name:"name",placeholder:x,required:b,type:"text"})):se("input",{"aria-hidden":true,value:t,name:"name",type:"hidden"}),l?se("label",{for:"email",class:"form__label"},se(vn,{label:h,isRequiredLabel:C,isRequired:g}),se("input",{class:"form__input",defaultValue:n,id:"email",name:"email",placeholder:m,required:g,type:"email"})):se("input",{"aria-hidden":true,value:n,name:"email",type:"hidden"}),se("label",{for:"message",class:"form__label"},se(vn,{label:v,isRequiredLabel:C,isRequired:true}),se("textarea",{autoFocus:true,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:y,required:true,rows:5})),P?se("label",{for:"screenshot",class:"form__label"},se("button",{class:"btn btn--default",disabled:S,type:"button",onClick:()=>{D(null);N((e=>!e))}},T?f:d),R?se("div",{class:"form__error-container"},R.message):null):null),se("div",{class:"btn-group"},se("button",{class:"btn btn--primary",disabled:S,type:"submit"},k),se("button",{class:"btn btn--default",disabled:S,type:"button",onClick:o},p))))}function vn({label:e,isRequired:n,isRequiredLabel:t}){return se("span",{class:"form__label__text"},e,n&&se("span",{class:"form__label__text--required"},t))}const yn=16;const wn=17;const xn="http://www.w3.org/2000/svg";function kn(){const e=e=>u.document.createElementNS(xn,e);const n=B(e("svg"),{width:`${yn}`,height:`${wn}`,viewBox:`0 0 ${yn} ${wn}`,fill:"inherit"});const t=B(e("g"),{clipPath:"url(#clip0_57_156)"});const o=B(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"});const r=B(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});n.appendChild(t).append(r,o);const i=e("defs");const a=B(e("clipPath"),{id:"clip0_57_156"});const s=B(e("rect"),{width:`${yn}`,height:`${yn}`,fill:"white",transform:"translate(0 0.5)"});a.appendChild(s);i.appendChild(a);n.appendChild(i).appendChild(a).appendChild(s);return n}function Cn({open:e,onFormSubmitted:n,...t}){const o=t.options;const r=Ke((()=>({__html:kn().outerHTML})),[]);const[i,a]=je(null);const s=Qe((()=>{if(i){clearTimeout(i);a(null)}n()}),[i]);const l=Qe((e=>{t.onSubmitSuccess(e);a(setTimeout((()=>{n();a(null)}),T))}),[n]);return se(ce,null,i?se("div",{class:"success__position",onClick:s},se("div",{class:"success__content"},o.successMessageText,se("span",{class:"success__icon",dangerouslySetInnerHTML:r}))):se("dialog",{class:"dialog",onClick:o.onFormClose,open:e},se("div",{class:"dialog__position"},se("div",{class:"dialog__content",onClick:e=>{e.stopPropagation()}},se(hn,{options:o}),se(bn,{...t,onSubmitSuccess:l})))))}const Sn="\n.dialog {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: 0;\n  inset: 0;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  height: 100vh;\n  width: 100vw;\n\n  color: var(--dialog-color, var(--foreground));\n  fill: var(--dialog-color, var(--foreground));\n  line-height: 1.75em;\n\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  inset: 0;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog__position {\n  position: fixed;\n  z-index: var(--z-index);\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  display: flex;\n  max-height: calc(100vh - (2 * var(--page-margin)));\n}\n@media (max-width: 600px) {\n  .dialog__position {\n    inset: var(--page-margin);\n    padding: 0;\n  }\n}\n\n.dialog__position:has(.editor) {\n  inset: var(--page-margin);\n  padding: 0;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  padding: var(--dialog-padding, 24px);\n  max-width: 100%;\n  width: 100%;\n  max-height: 100%;\n  overflow: auto;\n\n  background: var(--dialog-background, var(--background));\n  border-radius: var(--dialog-border-radius, 20px);\n  border: var(--dialog-border, var(--border));\n  box-shadow: var(--dialog-box-shadow, var(--box-shadow));\n  transform: translate(0, 0) scale(1);\n  transition: transform 0.2s ease-in-out;\n}\n\n";const En="\n.dialog__header {\n  display: flex;\n  gap: 4px;\n  justify-content: space-between;\n  font-weight: var(--dialog-header-weight, 600);\n  margin: 0;\n}\n.dialog__title {\n  align-self: center;\n  width: var(--form-width, 272px);\n}\n\n@media (max-width: 600px) {\n  .dialog__title {\n    width: auto;\n  }\n}\n\n.dialog__position:has(.editor) .dialog__title {\n  width: auto;\n}\n\n\n.brand-link {\n  display: inline-flex;\n}\n.brand-link:focus-visible {\n  outline: var(--outline);\n}\n";const Ln="\n.form {\n  display: flex;\n  overflow: auto;\n  flex-direction: row;\n  gap: 16px;\n  flex: 1 0;\n}\n\n.form fieldset {\n  border: none;\n  margin: 0;\n  padding: 0;\n}\n\n.form__right {\n  flex: 0 0 auto;\n  display: flex;\n  overflow: auto;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 20px;\n  width: var(--form-width, 100%);\n}\n\n.dialog__position:has(.editor) .form__right {\n  width: var(--form-width, 272px);\n}\n\n.form__top {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.form__error-container {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: flex;\n  gap: 4px;\n  align-items: center;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  font-family: inherit;\n  line-height: inherit;\n  background: transparent;\n  box-sizing: border-box;\n  border: var(--input-border, var(--border));\n  border-radius: var(--input-border-radius, 6px);\n  color: var(--input-color, inherit);\n  fill: var(--input-color, inherit);\n  font-size: var(--input-font-size, inherit);\n  font-weight: var(--input-font-weight, 500);\n  padding: 6px 12px;\n}\n\n.form__input::placeholder {\n  opacity: 0.65;\n  color: var(--input-placeholder-color, inherit);\n  filter: var(--interactive-filter);\n}\n\n.form__input:focus-visible {\n  outline: var(--input-focus-outline, var(--outline));\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.error {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n";const Fn="\n.btn-group {\n  display: grid;\n  gap: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--button-font-size, inherit);\n  font-weight: var(--button-font-weight, 600);\n  padding: var(--button-padding, 6px 16px);\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  color: var(--button-primary-color, var(--accent-foreground));\n  fill: var(--button-primary-color, var(--accent-foreground));\n  background: var(--button-primary-background, var(--accent-background));\n  border: var(--button-primary-border, var(--border));\n  border-radius: var(--button-primary-border-radius, 6px);\n  font-weight: var(--button-primary-font-weight, 500);\n}\n.btn--primary:hover {\n  color: var(--button-primary-hover-color, var(--accent-foreground));\n  fill: var(--button-primary-hover-color, var(--accent-foreground));\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n}\n.btn--primary:focus-visible {\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n  outline: var(--button-primary-focus-outline, var(--outline));\n}\n\n.btn--default {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-background, var(--background));\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  font-weight: var(--button-font-weight, 500);\n}\n.btn--default:hover {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n.btn--default:focus-visible {\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n  outline: var(--button-focus-outline, var(--outline));\n}\n";const Hn="\n.success__position {\n  position: fixed;\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  z-index: var(--z-index);\n}\n.success__content {\n  background: var(--success-background, var(--background));\n  border: var(--success-border, var(--border));\n  border-radius: var(--success-border-radius, 1.7em/50%);\n  box-shadow: var(--success-box-shadow, var(--box-shadow));\n  font-weight: var(--success-font-weight, 600);\n  color: var(--success-color);\n  fill: var(--success-color);\n  padding: 12px 24px;\n  line-height: 1.75em;\n\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success__icon {\n  display: flex;\n}\n";function Tn(e){const n=_.createElement("style");n.textContent=`\n:host {\n  --dialog-inset: var(--inset);\n}\n\n${Sn}\n${En}\n${Ln}\n${Fn}\n${Hn}\n`;e&&n.setAttribute("nonce",e);return n}function Nn(){const e=t().getUser();const n=l().getUser();const o=c().getUser();return e&&Object.keys(e).length?e:n&&Object.keys(n).length?n:o}const Mn=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:o,shadow:r})=>{const i=r;const a=e.useSentryUser;const s=Nn();const l=_.createElement("div");const c=Tn(e.styleNonce);let u="";const d={get el(){return l},appendToDom(){if(!i.contains(c)&&!i.contains(l)){i.appendChild(c);i.appendChild(l)}},removeFromDom(){l.remove();c.remove();_.body.style.overflow=u},open(){p(true);e.onFormOpen?.();n()?.emit("openFeedbackWidget");u=_.body.style.overflow;_.body.style.overflow="hidden"},close(){p(false);_.body.style.overflow=u}};const f=t?.createInput({h:se,hooks:dn,dialog:d,options:e});const p=n=>{Te(se(Cn,{options:e,screenshotInput:f,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:a&&s&&s[a.name]||"",defaultEmail:a&&s&&s[a.email]||"",onFormClose:()=>{p(false);e.onFormClose?.()},onSubmit:o,onSubmitSuccess:n=>{p(false);e.onSubmitSuccess?.(n)},onSubmitError:n=>{e.onSubmitError?.(n)},onFormSubmitted:()=>{e.onFormSubmitted?.()},open:n}),l)};return d}});function Pn({h:e}){return function(){return e("svg",{"data-test-id":"icon-close",viewBox:"0 0 16 16",fill:"#2B2233",height:"25px",width:"25px"},e("circle",{r:"7",cx:"8",cy:"8",fill:"white"}),e("path",{strokeWidth:"1.5",d:"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z"}),e("path",{strokeWidth:"1.5",d:"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z"}),e("path",{strokeWidth:"1.5",d:"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z"}))}}function Rn(e){const n=_.createElement("style");const t="#1A141F";const o="#302735";n.textContent=`\n.editor {\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n}\n\n.editor__image-container {\n  justify-items: center;\n  padding: 15px;\n  position: relative;\n  height: 100%;\n  border-radius: var(--menu-border-radius, 6px);\n\n  background-color: ${t};\n  background-image: repeating-linear-gradient(\n      -145deg,\n      transparent,\n      transparent 8px,\n      ${t} 8px,\n      ${t} 11px\n    ),\n    repeating-linear-gradient(\n      -45deg,\n      transparent,\n      transparent 15px,\n      ${o} 15px,\n      ${o} 16px\n    );\n}\n\n.editor__canvas-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.editor__canvas-container > * {\n  object-fit: contain;\n  position: absolute;\n}\n\n.editor__tool-container {\n  padding-top: 8px;\n  display: flex;\n  justify-content: center;\n}\n\n.editor__tool-bar {\n  display: flex;\n  gap: 8px;\n}\n\n.editor__tool {\n  display: flex;\n  padding: 8px 12px;\n  justify-content: center;\n  align-items: center;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  background: var(--button-background, var(--background));\n  color: var(--button-color, var(--foreground));\n}\n\n.editor__tool--active {\n  background: var(--button-primary-background, var(--accent-background));\n  color: var(--button-primary-color, var(--accent-foreground));\n}\n\n.editor__rect {\n  position: absolute;\n  z-index: 2;\n}\n\n.editor__rect button {\n  opacity: 0;\n  position: absolute;\n  top: -12px;\n  right: -12px;\n  cursor: pointer;\n  padding: 0;\n  z-index: 3;\n  border: none;\n  background: none;\n}\n\n.editor__rect:hover button {\n  opacity: 1;\n}\n`;e&&n.setAttribute("nonce",e);return n}function Dn({h:e}){return function({action:n,setAction:t}){return e("div",{class:"editor__tool-container"},e("div",{class:"editor__tool-bar"},e("button",{type:"button",class:"editor__tool "+(n==="highlight"?"editor__tool--active":""),onClick:()=>{t(n==="highlight"?"":"highlight")}},"Highlight"),e("button",{type:"button",class:"editor__tool "+(n==="hide"?"editor__tool--active":""),onClick:()=>{t(n==="hide"?"":"hide")}},"Hide")))}}function Bn({hooks:e}){function n(){const[n,t]=e.useState(u.devicePixelRatio??1);e.useEffect((()=>{const e=()=>{t(u.devicePixelRatio)};const n=matchMedia(`(resolution: ${u.devicePixelRatio}dppx)`);n.addEventListener("change",e);return()=>{n.removeEventListener("change",e)}}),[]);return n}return function({onBeforeScreenshot:t,onScreenshot:o,onAfterScreenshot:r,onError:i}){const a=n();e.useEffect((()=>{const e=async()=>{t();const e=await d.mediaDevices.getDisplayMedia({video:{width:u.innerWidth*a,height:u.innerHeight*a},audio:false,monitorTypeSurfaces:"exclude",preferCurrentTab:true,selfBrowserSurface:"include",surfaceSwitching:"exclude"});const n=_.createElement("video");await new Promise(((t,r)=>{n.srcObject=e;n.onloadedmetadata=()=>{o(n,a);e.getTracks().forEach((e=>e.stop()));t()};n.play().catch(r)}));r()};e().catch(i)}),[])}}function $n(e,n,t){switch(e.type){case"highlight":n.shadowColor="rgba(0, 0, 0, 0.7)";n.shadowBlur=50;n.fillStyle=t;n.fillRect(e.x-1,e.y-1,e.w+2,e.h+2);n.clearRect(e.x,e.y,e.w,e.h);break;case"hide":n.fillStyle="rgb(0, 0, 0)";n.fillRect(e.x,e.y,e.w,e.h);break}}function An(e,n,t){if(!e)return;const o=e.getContext("2d",n);o&&t(e,o)}function qn(e,n){An(e,{alpha:true},((e,t)=>{t.drawImage(n,0,0,n.width,n.height,0,0,e.width,e.height)}))}function Un(e,n,t){An(e,{alpha:true},((e,o)=>{if(t.length){o.fillStyle="rgba(0, 0, 0, 0.25)";o.fillRect(0,0,e.width,e.height)}t.forEach((e=>{$n(e,o,n)}))}))}function In({h:e,hooks:n,outputBuffer:t,dialog:o,options:r}){const i=Bn({hooks:n});const a=Dn({h:e});const s=Pn({h:e});const l={__html:Rn(r.styleNonce).innerText};const c=o.el.style;const d=({screenshot:o})=>{const[i,c]=n.useState("highlight");const[d,f]=n.useState([]);const p=n.useRef(null);const h=n.useRef(null);const m=n.useRef(null);const g=n.useRef(null);const[b,v]=n.useState(1);const y=n.useMemo((()=>{const e=_.getElementById(r.id);if(!e)return"white";const n=getComputedStyle(e);return n.getPropertyValue("--button-primary-background")||n.getPropertyValue("--accent-background")}),[r.id]);n.useLayoutEffect((()=>{const e=()=>{const e=p.current;e&&An(o.canvas,{alpha:false},(n=>{const t=Math.min(e.clientWidth/n.width,e.clientHeight/n.height);v(t)}))};e();u.addEventListener("resize",e);return()=>{u.removeEventListener("resize",e)}}),[o]);const w=n.useCallback(((e,n)=>{An(e,{alpha:true},((e,t)=>{t.scale(n,n);e.width=o.canvas.width;e.height=o.canvas.height}))}),[o]);n.useEffect((()=>{w(h.current,o.dpi);qn(h.current,o.canvas)}),[o]);n.useEffect((()=>{w(m.current,o.dpi);An(m.current,{alpha:true},((e,n)=>{n.clearRect(0,0,e.width,e.height)}));Un(m.current,y,d)}),[d,y]);n.useEffect((()=>{w(t,o.dpi);qn(t,o.canvas);An(_.createElement("canvas"),{alpha:true},((e,n)=>{n.scale(o.dpi,o.dpi);e.width=o.canvas.width;e.height=o.canvas.height;Un(e,y,d);qn(t,e)}))}),[d,o,y]);const x=e=>{if(!i||!g.current)return;const n=g.current.getBoundingClientRect();const t={type:i,x:e.offsetX/b,y:e.offsetY/b};const o=(e,t)=>{const o=(t.clientX-n.x)/b;const r=(t.clientY-n.y)/b;return{type:e.type,x:Math.min(e.x,o),y:Math.min(e.y,r),w:Math.abs(o-e.x),h:Math.abs(r-e.y)}};const r=e=>{An(m.current,{alpha:true},((e,n)=>{n.clearRect(0,0,e.width,e.height)}));Un(m.current,y,[...d,o(t,e)])};const a=e=>{const n=o(t,e);n.w*b>=1&&n.h*b>=1&&f((e=>[...e,n]));_.removeEventListener("mousemove",r);_.removeEventListener("mouseup",a)};_.addEventListener("mousemove",r);_.addEventListener("mouseup",a)};const k=n.useCallback((e=>n=>{n.preventDefault();n.stopPropagation();f((n=>{const t=[...n];t.splice(e,1);return t}))}),[]);const C={width:o.canvas.width*b+"px",height:o.canvas.height*b+"px"};const S=e=>{e.stopPropagation()};return e("div",{class:"editor"},e("style",{nonce:r.styleNonce,dangerouslySetInnerHTML:l}),e("div",{class:"editor__image-container"},e("div",{class:"editor__canvas-container",ref:p},e("canvas",{ref:h,id:"background",style:C}),e("canvas",{ref:m,id:"foreground",style:C}),e("div",{ref:g,onMouseDown:x,style:C},d.map(((n,t)=>e("div",{key:t,class:"editor__rect",style:{top:n.y*b+"px",left:n.x*b+"px",width:n.w*b+"px",height:n.h*b+"px"}},e("button",{"aria-label":"Remove",onClick:k(t),onMouseDown:S,onMouseUp:S,type:"button"},e(s,null)))))))),e(a,{action:i,setAction:c}))};return function({onError:o}){const[r,a]=n.useState();i({onBeforeScreenshot:n.useCallback((()=>{c.display="none"}),[]),onScreenshot:n.useCallback(((e,n)=>{An(_.createElement("canvas"),{alpha:false},((t,o)=>{o.scale(n,n);t.width=e.videoWidth;t.height=e.videoHeight;o.drawImage(e,0,0,t.width,t.height);a({canvas:t,dpi:n})}));t.width=e.videoWidth;t.height=e.videoHeight}),[]),onAfterScreenshot:n.useCallback((()=>{c.display="block"}),[]),onError:n.useCallback((e=>{c.display="block";o(e)}),[])});return r?e(d,{screenshot:r}):e("div",null)}}const zn=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:n,dialog:t,options:o})=>{const r=_.createElement("canvas");return{input:In({h:e,hooks:n,outputBuffer:r,dialog:t,options:o}),value:async()=>{const e=await new Promise((e=>{r.toBlob(e,"image/png")}));if(e){const n=new Uint8Array(await e.arrayBuffer());const t={data:n,filename:"screenshot.png",contentType:"application/png"};return t}}}}});export{j as buildFeedbackIntegration,Mn as feedbackModalIntegration,zn as feedbackScreenshotIntegration,Z as getFeedback,N as sendFeedback};

